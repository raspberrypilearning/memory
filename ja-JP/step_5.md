## 複数レベル

これまでのところ、プレーヤーは5色のシーケンスを覚えているだけです。 スコアを追加し、プレーヤーがポイントを獲得したときにゲームが次のレベルに移動し、記憶するカラーシーケンスが長くなるようにコードを追加して、ゲームを向上させます。

\--- task \--- `スコア`{:class="block3variables"}という名前の新しい変数を作成します。

[[[generic-scratch3-add-variable]]] \--- /task \---

`スコア`{:class="block3variables"}に基づいて、ゲームはカラーシーケンスの長さを決定します。 `3`スコア(およびシーケンスの長さ)から始めます。

\--- task \--- キャラクタの`フラグが押されたとき`{:class="block3events"}のコードの先頭にブロックを追加して `スコア`{:class="block3variables"}を `3` にセットします。 \--- /task \---

常に5色のシーケンスを作成するのではなく、シーケンスの長さを決めるのに `スコア`{:class="block3variables"}が必要になります。

\--- task \--- キャラクタの `繰り返し`{:class="block3control"}ループ(カラーシーケンスを作成するための)を `スコア`{:class="block3variables"}回繰り返すように変更します。

![スプライト](images/ballerina.png)

```blocks3
(スコア :: 変数) 回繰り返す
終了
```

\--- /task \---

\--- task \---順序 プレーヤーが正しいシーケンスを繰り返した場合、 `1` を `スコア`{:class="block3variables"}に追加する必要があります。これを行うと、次のシーケンスの長さが長くなります。 **シーケンスが正しいことがわかったところで** 、次のブロックをキャラクタのコードに追加します:

![スプライト](images/ballerina.png)

```blocks3
[スコア v] を(1) で変更
```

\--- hints \--- \--- hint \--- あなたは、ゲームが'勝ち'メッセージを `ブロードキャスト`{:class="block3events"}した時点でシーケンスが正しいことを知っています。 \--- /hint \--- \--- /hints \---

\--- /task \---

\--- task \--- 最後に、シーケンスを生成するコードの周りに `永久`{:class="block3control"}ループを追加して、ゲームがレベルごとに新しいカラーシーケンスを作成するようにします。 これはあなたのキャラクターのコードがどのように見えるかです:

![バレリーナ](images/ballerina.png)

```blocks3
フラグが押されたとき
[スコア v] を [3] に設定
永久
    [シーケンス v] の(すべて v) を削除
    (スコア) を繰り返す
        [シーケンス v] に((1) から(4) の間の乱数) を加える
        ([シーケンス v] の([シーケンスv] の長さ) 番目にコスチュームを切り替えるする
        (1) 秒待つ
    終了
 <  ([シーケンス v] の長さ) = [0] > まで待つ
    (勝ち v) を送って待つ
    [スコア v] を(1) ずつ変える
```

\--- /task \---

\--- task \--- 友達にゲームを試してもらいましょう。再生する前に、 `シーケンス`{:class="block3variables"}リストを隠すことを忘れないでください。 \--- /task \---