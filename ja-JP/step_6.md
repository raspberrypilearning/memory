## 高得点

ハイスコアを保存して、友達と対戦できるようにしましょう。

\--- task \--- `ハイスコア`{：class = "block3variables"}と `name`{：class = "block3variables"}という2つの新しい変数をプロジェクトに追加します。 \--- /タスク\---

プレイヤーがシーケンスを間違えてゲームが終了したとき、ゲームはスコアが現在のハイスコアより高いかどうかをチェックするべきです。 もしそうであれば、ゲームはそのスコアをハイスコアとして保存し、またプレイヤーの名前を保存するべきです。

\--- task \--- あなたのキャラクタースプライトに `高得点`{：class = "block3variables"}を保存するコードを追加してください。 また、プレイヤーの名前を尋ね、それを `name`{：class = "block3variables"}変数に格納します。

[[[generic-scratch3-high-score]]]

\---ヒント\--- \---ヒント\--- 新しいコードは次のパターンに従う必要があります。

後 `ゲームオーバー`{：クラス= "block3looks"}メッセージ `の場合`{：クラス= "block3control"} `スコア`{：クラス= "block3variables"}で `より大きい`クラス= "block3operators：{ "} `高いスコア`{：クラス=" block3variables "} `セット`{：クラス=" block3variables "} `ハイスコア`{：クラス=" block3variablesを"へ} `スコア`{：クラス=" block3variables "} `質問`{：クラスは=" block3sensing "選手の名前の} `セット`{：クラス=" block3variables "} `名`{：クラス="へblock3variables "} `答え`{。 \--- / hint \--- \--- hint \---

以下のブロックが必要です。

![バレリーナ](images/ballerina.png)

```blocks3
< > それから
終了

（スコア）

（スコア）

[] > []

答え

（ハイスコア）

[あなたの名前は何ですか]と尋ね、

セット[ハイスコアv]に[] 

セット名前v]から[] 
```

\--- / hint \--- \--- hint \--- 赤いボタンが押されたときのコードは次のようになります。

![バレリーナ](images/ballerina.png)

```blocks3
<（[sequence v]のitem（1 v））=[1]> 場合、[red v]
を受け取ったとき（0.25）
    delete（1）の
    ドラム（[sequence v]のitem（1 v）） [シーケンスv]
v）それ以外の場合
    は（1）秒間[Game over！]
 < （スコア::変数） > （ハイスコア） > 次に
        [ハイスコアv]を（スコア::変数）に設定します。 ）
        [ハイスコア！ あなたの名前は何ですか？]と待っ
        （答）にセット[名v]を
    エンド
    ストップ[すべてV]
終了
```

\--- / hint \--- \--- / hints \--- \--- / task \---

他の3色についても、この新しいコードを文字スプライトに追加する必要があります。

4色それぞれの「ゲームオーバー」コードがまったく同じであることがわかりますか。

![バレリーナ](images/ballerina.png)

```blocks3
[ゲームオーバー！]と言う（1）秒
であれば < （スコア::変数） > （ハイスコア） > その後、
    セット（スコア::変数）への[ハイスコアV]
    [ハイスコアを頼みます！ あなたの名前は何ですか？]と待っ
    （答）にセット[名v]を
エンド
ストップ[すべてのV]
```

サウンドを追加したり、「ゲームオーバー」メッセージを変更するなど、「ゲームオーバー」コードを変更する必要がある場合は、4回変更する必要があります。それは厄介なことであり、多くの時間を無駄にします。

代わりに、独自のコードブロックを定義し、それをプロジェクト内の任意の場所で使用できます。

\--- task \--- `ブロックをクリック`{：class = "block3myblocks"}、そして **をクリックブロックを作成する**この新しいブロックコール `上でゲームを`{：クラス= "block3myblocksを"}。

\--- /task \---

\--- \---タスク からのコードを追加し `他`：{クラス= "block3control"}に接続されたブロック `赤`ブロードキャストに：{クラス= "block3events"} `上にゲーム`{：クラス= "block3myblocks"}ブロックすると、次のようになります。

![バレリーナ](images/ballerina.png)

```blocks3

超えるゲームを定義する。（1）秒間
（ゲームオーバー！） < （スコア::変数） > （ハイスコア） > その後
    （ハイスコアv）を（スコア::変数）に設定する
！ あなたの名前は何ですか？]と待っ
    （答）にセット[名v]を
エンド
ストップ[すべてのV]
```

\--- /task \---

\--- task \--- `red`{：class = "block3events"}ブロードキャストに接続された `else`{：class = "block3control"}ブロックにあるコードを削除し、 `Game overを追加`{：class = "block3myblocks"}ブロックではなく：

![バレリーナ](images/ballerina.png)

```blocks3
<（[sequence v]のitem（1 v））=[1]> とき、[red v]
を受け取ったとき（
    ）（0.25）のために
ドラムを演奏する（\（1 \）Snare Drum v）
    delete（1 v） [sequence v]
else
    ゲームオーバー::カスタム
終了
```

\--- /task \---

\--- task \--- ゲームをプレイして、カラーシーケンスの間違った箇所で赤いボタンをクリックして、新しいブロックをテストしてください。 \--- / task \---

あなたの新しい `Game over`{：class = "block3myblocks"}ブロックは **function**で、 `game over`{：class = "block3myblocks"}ブロックを追加することであなたのコードの好きな場所に使える小さなスクリプトですに。

\--- \---タスク また、内のコードを置き換える `、他`：{クラス=「block3control」}に接続されたブロック `放送`{：クラス=「block3events」}あなたの新しいと他の色の `ゲームオーバー`{：class = "block3myblocks"}ブロック。 `blue`{：class = "block3events"}メッセージのコードは次のようになります。

![バレリーナ](images/ballerina.png)

```blocks3
私は[ブルーV]を受信したときに
場合 <（[配列V]の項目（1 V））=[1]> 、次いで
    （0.25）のためのプレイドラム（\（2 \）バスドラムV）ビート
    （1 V）を削除します[sequence v]
else
    ゲームオーバー::カスタム
終了
```

\--- /task \---

\--- task \--- 間違ったボタンが押されたときに鳴る音を追加します。 このコードを追加したのは、あなたが作成した `Game over`{：class = "block3myblocks"}ブロックで</code>回だけで、4回に分けて追加する必要はありません。

![バレリーナ](images/ballerina.png)

```blocks3
定義ゲームオーバー
スタートサウンド[Cough1 v]
[ゲームオーバー！]（1）秒間
 < （スコア::変数） > （ハイスコア） > その後
    再生サウンド（trumpet1 v）
    セット[ハイスコアv]から（得点）へ
    [高得点！ あなたの名前は何ですか？]と待っ
    （答）にセット[名v]を
エンド
ストップ[すべてのV]
```

\--- /task \---